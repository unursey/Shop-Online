(()=>{"use strict";const e=(e,t,a,n)=>{let s=Math.abs(e);return s%=100,s>=5&&s<=20?n:(s%=10,1===s?t:s>=2&&s<=4?a:n)},t=(t,a)=>{const n=a.querySelector(".timer__count_days"),s=a.querySelector(".timer__count_hours"),i=a.querySelector(".timer__count_minutes"),c=a.querySelector(".timer__count_seconds"),l=a.querySelector(".timer__units_days"),r=a.querySelector(".timer__units_hours"),o=a.querySelector(".timer__units_minutes"),_=a.querySelector(".timer__units_seconds");let m=0;const u=()=>{let u=(()=>{const e=new Date((e=>{let t=e.replace(/ /gi,"/").split("/");return t[2]+"-"+t[1]+"-"+t[0]+"T"+t[3]+":00.000"})(t)).getTime()-108e5,a=(e+6e4*-(new Date).getTimezoneOffset()-Date.now())/1e3;return{timeRemaining:a,days:Math.floor(a/60/60/24),hours:Math.floor(a/60/60%24),minutes:Math.floor(a/60%60),seconds:Math.floor(a%60)}})();const d=e=>1===String(e).length?`0${e}`:e;n.textContent=u.days,s.textContent=d(u.hours),i.textContent=d(u.minutes),c.textContent=d(u.seconds),l.textContent=e(u.days,"день","дня","дней"),r.textContent=e(u.hours,"час","часа","часов"),o.textContent=e(u.minutes,"минута","минуты","минут"),_.textContent=e(u.seconds,"секунда","секунды","секунд"),u.days<=0&&(a.querySelector(".timer__item_days").style.display="none",a.querySelector(".timer__item_seconds").style.display="block"),u.timeRemaining<0&&(clearInterval(m),a.remove())};u(),m=setInterval(u,1e3)},a=async e=>{const t=await fetch("https://gorest.co.in/public-api/posts"+e);return await t.json()},n=(e,t)=>{let a=e-1,n=a;const s=e,i=s;let c=e+1,l=c;1===e&&(a=t,n="..."),e===t&&(c=1,l=1);const r=document.createElement("div");r.className="blog__pagination pagination",r.innerHTML=`\n        <a href="?page=${a}" class="pagination__left" aria-label="left">\n            <svg tabindex="0" class="pagination__img" width="37" height="37" viewBox="0 0 37 37" fill="#8F8F8F" xmlns="http://www.w3.org/2000/svg">\n                <path d="M32.375 16.9583H10.5296L16.0487 11.4237L13.875 9.25L4.625 18.5L13.875 27.75L16.0487 25.5763L10.5296 20.0417H32.375V16.9583Z" fill="#8F8F8F"/>\n            </svg>                    \n        </a>\n        <div class="pagination__num-list">\n            <a href="?page=${a}" class="pagination__num">${n}</a>\n            <a href="?page=${s}"class="pagination__num pagination__num_active">${i}</a>\n            <a href="?page=${c}" class="pagination__num">${l}</a>\n        </div>\n        <a href="?page=${c}" class="pagination__right" aria-label="right">\n            <svg tabindex="0" class="pagination__img" width="37" height="37" viewBox="0 0 37 37" fill="#8F8F8F" xmlns="http://www.w3.org/2000/svg">\n              <path d="M4.625 16.9583H26.4704L20.9513 11.4237L23.125 9.25L32.375 18.5L23.125 27.75L20.9513 25.5763L26.4704 20.0417H4.625V16.9583Z" fill="#3670C7"/>\n            </svg>              \n        </a>\n        `,document.querySelector(".blog__container").append(r)},s=async e=>{let t;t=sessionStorage.getItem("backurl")?sessionStorage.getItem("backurl"):"?page=1";const n=await a(e),s=await(async e=>{const t=await fetch("https://gorest.co.in/public-api/users/"+e),a=await t.json();return console.log(a),a})(n.data.user_id),i=document.createElement("article");i.className="article__container",i.innerHTML=`\n    <div class="article__crumbs crumbs">\n      <p class="crumbs__text"><a href="/index.html">Главная</a></p>\n      <svg class="crumbs__icon" width="18" height="18" viewBox="0 0 18 18" fill="#525252" xmlns="http://www.w3.org/2000/svg">\n        <path d="M6.44238 12.4425L9.87738 9L6.44238 5.5575L7.49988 4.5L11.9999 9L7.49988 13.5L6.44238 12.4425Z" fill="#525252"/>\n      </svg>\n      <p class="crumbs__text"><a href="/blog.html${t}">Блог</a></p>\n      <svg class="crumbs__icon" width="18" height="18" viewBox="0 0 18 18" fill="#525252" xmlns="http://www.w3.org/2000/svg">\n        <path d="M6.44238 12.4425L9.87738 9L6.44238 5.5575L7.49988 4.5L11.9999 9L7.49988 13.5L6.44238 12.4425Z" fill="#525252"/>\n      </svg>\n      <p class="crumbs__text crumbs__text-title">${n.data.title}</p>\n    </div>\n\n    <h1 class="page__title">${n.data.title}</h1>\n    <p class="article__text">${n.data.body}</p>\n\n    <div class="article__link-block">\n        <a class="article__link-back" href='/blog.html${t}'>К списку статей</a>\n\n        <div class="article__author">\n          <a class="article__link-author">${s.data.name}</a>\n          <p class="article__date">22 октября 2021, 12:45</p>\n          <div class="article__reaction">\n            <a class="article__views">0К</a>\n            <a class="article__comments">0</a>\n          </div>\n          </div>\n    </div>    \n    `,document.querySelector(".article").append(i)},i=()=>{if("/blog.html"===location.pathname){let e="?page=1",t=1;if(location.search){e=location.search,t=new URL(document.location).searchParams.get("page")}(async(e,t)=>{const s=await a(e),i=document.createElement("div");i.className="blog__article";const c=s.meta.pagination.pages;console.log(c);const l=s.data.map((e=>{const t=document.createElement("li");return t.className="blog__article-cart article-cart",t.innerHTML=`\n            <div class="article-cart__img-block">\n                <img src="img/blog/test.jpg" class="article-cart__img" alt="Превью статьи"/>\n            </div>\n            <div class="article-cart__text-block">\n                <h2 class="article-cart__title-block"><a href="article.html?id=${e.id}" class="article-cart__title">${e.title}</a></h2>\n                <div class="article-cart__info">\n                  <p class="article-cart__date">22 октября 2021, 12:45</p>\n                  <div class="article-cart__reaction">\n                      <a class="article-cart__views">0К</a>\n                      <a class="article-cart__comments">0</a>\n                  </div>\n                </div>\n            </div\n        `,t}));i.append(...l),document.querySelector(".blog__container").append(i),n(+t,c)})(e,t),sessionStorage.setItem("backurl",e)}},c=e=>{const t=document.querySelectorAll(".collapse"),a=document.querySelectorAll(".collapse__block");let n=0;a.forEach(((t,a)=>{e.target.myIndex===a&&(n=t.scrollHeight)}));for(let s=0;s<t.length;s++)e.target.myIndex===s?(a[s].style.height=t[s].classList.contains("collapse_active")?"":`${n}px`,t[s].classList.toggle("collapse_active")):(t[s].classList.remove("collapse_active"),a[s].style.height="")},l=(e,t)=>{let a=NaN;requestAnimationFrame((function n(s){a||=s;const i=(s-a)/e;t(i),i<1&&requestAnimationFrame(n)}))},r=e=>{l(1e3,(t=>{e.style.opacity=1-t}))},{page:o,burgerMenu:_,burger:m,btnBurger:u}=(()=>{const e=document.querySelector(".page"),t=e.querySelector(".burger__menu"),a=e.querySelector(".burger"),n=e.querySelector(".header__button-nav");return{page:e,burgerMenu:t,burger:a,btnBurger:n}})(),d=()=>{u.classList.toggle("header__button-nav_icon-open"),u.classList.toggle("header__button-nav_icon-close")},g=()=>{u.addEventListener("click",(()=>{m.classList.contains("burger_visible")||((e,t)=>{l(600,(a=>{e.style.opacity=a,t.style.opacity=a}))})(_,m),m.classList.contains("burger_visible")&&r(_),m.classList.toggle("burger_visible"),d(),h()}))},p=()=>{o.addEventListener("click",(e=>{(e.target.classList.contains("burger")||e.target.closest(".header__container")&&!e.target.closest(".header__button-nav"))&&(r(_),m.classList.contains("burger_visible")&&(m.classList.remove("burger_visible"),d()),h())}))},h=()=>{const e=o.offsetWidth;m.classList.contains("burger_visible")?(o.style.overflow="hidden",o.style.marginRight=`${v(e)}px`):setTimeout((function(){o.style.overflow="",o.style.marginRight=""}),500)},v=e=>{let t=o.offsetWidth;if(t===e)return;return t-e};(()=>{document.querySelectorAll("[data-timer-deadline]").forEach((e=>{(e=>{e.classList.add("timer"),e.insertAdjacentHTML("afterbegin",'\n      <p class="timer__title">До конца акции:</p>\n\n      <div class="timer__block">\n        <p class="timer__item timer__item_days">\n          <span class="timer__count timer__count_days"></span>\n          <span class="timer__units timer__units_days"></span>\n        </p>\n\n        <p class="timer__item timer__item_hours">\n          <span class="timer__count timer__count_hours"></span>\n          <span class="timer__units timer__units_hours"></span>\n        </p>  \n\n        <p class="timer__item timer__item_minutes">\n          <span class="timer__count timer__count_minutes"></span>\n          <span class="timer__units timer__units_minutes"></span>\n        </p>\n\n        <p class="timer__item timer__item_seconds">\n        <span class="timer__count timer__count_seconds"></span>\n        <span class="timer__units timer__units_seconds"></span>\n      </p>\n      </div>\n \n    ')})(e);const a=e.dataset.timerDeadline;t(a,e)})),g(),p(),i(),(()=>{if("/article.html"===location.pathname){let e="/"+new URL(document.location).searchParams.get("id");s(e)}})();const e=window.matchMedia("(max-width: 580px)"),a=e=>{e.matches?document.querySelectorAll(".collapse__title").forEach(((e,t)=>{e.addEventListener("click",c),e.myIndex=t})):(()=>{const e=document.querySelectorAll(".collapse"),t=document.querySelectorAll(".collapse__block");document.querySelectorAll(".collapse__title").forEach((e=>{e.removeEventListener("click",c)})),e.forEach(((e,a)=>{e.classList.remove("collapse_active"),t[a].style.height=""}))})()};e.addListener(a),a(e)})()})();
//# sourceMappingURL=../maps/index.min.js.map
